(function(e){function t(t){for(var r,i,s=t[0],c=t[1],l=t[2],p=0,d=[];p<s.length;p++)i=s[p],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(d.length)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={app:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},5095:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cb29"),n("d81d"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=n("9eed"),a=n.n(o),i=n("f309"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("div",{attrs:{id:"app"}},[n("Layout")],1)])},c=[],l=n("7496"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-toolbar",{attrs:{color:"cyan",dark:"",flat:""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{centered:"","slider-color":"yellow","background-color":"transparent"},model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},e._l(e.tabItems,(function(t){return n("v-tab",{key:t.index},[e._v(" "+e._s(t.name)+" ")])})),1)]},proxy:!0}])},[n("v-app-bar-nav-icon"),n("v-toolbar-title",[e._v("VOD Transcoding system")]),n("v-spacer"),n("v-btn",{attrs:{icon:""}},[n("v-icon",[e._v("mdi-dots-vertical")])],1)],1),n("v-tabs-items",{model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},[n("v-tab-item",[n("JobComponent")],1),n("v-tab-item",[n("ProfileComponent")],1)],1)],1)},p=[],d=n("71d9"),f=n("2a7f"),b=n("2fa4"),h=n("8336"),m=n("132d"),v=n("b0af"),O=n("5bc1"),w=n("fe57"),x=n("71a3"),g=n("aac8"),k=n("c671"),J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{flat:""}},[n("v-card-title",[n("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),n("v-card-text",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.jobs,search:e.search,"items-per-page":5,"sort-by":"jobId"},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-toolbar-title",[e._v("Job Queue")]),n("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),n("v-spacer"),n("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:e.handleAddNewJobClick}},[e._v(" New Job ")]),e.isNewJobModalOpen?n("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.isNewJobModalOpen,callback:function(t){e.isNewJobModalOpen=t},expression:"isNewJobModalOpen"}},[n("CreateEditJobForm",{on:{close:e.handleCloseAddJobForm,save:e.handleNewJobFormSave}})],1):e._e(),e.isEditJobModalOpen?n("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.isEditJobModalOpen,callback:function(t){e.isEditJobModalOpen=t},expression:"isEditJobModalOpen"}},[n("CreateEditJobForm",{attrs:{title:"Edit job","default-job-options":e.currentJobOptions,job:e.currentJob},on:{close:e.handleEditJobFormClose,save:e.handleEditJobFormSave}})],1):e._e()],1)]},proxy:!0},{key:"item.action",fn:function(t){var r=t.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.handleEditJobIconClick(r)}}},[e._v(" edit ")]),n("v-icon",{attrs:{small:""},on:{click:function(t){return e.handleDeleteJobButtonClick(r)}}},[e._v(" delete ")])]}}])})],1)],1)},y=[],j=(n("96cf"),n("1da1")),P=n("99d9"),C=n("8654"),E=n("8fea"),I=n("ce7e"),_=n("169a"),F=n("2f62"),N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v(e._s(e.title))])]),n("v-card-text",[n("v-container",[n("v-row",[n("v-flex",{attrs:{xs12:""}},[n("v-combobox",{attrs:{items:e.profiles,"item-text":"name",label:"Select profile to fill out fields automatically"},on:{change:e.handleChangeProfileComboboxValue},model:{value:e.selectedProfile,callback:function(t){e.selectedProfile=t},expression:"selectedProfile"}})],1)],1),n("v-row",[n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Name"},model:{value:e.jobName,callback:function(t){e.jobName=t},expression:"jobName"}})],1)],1),n("div",{staticClass:"scroll-container"},[e.options?n("div",[n("JobInputsFormGenerator",{attrs:{options:e.options,"job-options":e.jobOptions,"default-number-columns-per-row":2},on:{updateJobOption:e.handleUpdateJobOptionOfJobInputsFormGenerator,deleteJobOption:e.handleDeleteJobOptionOfJobInputsFormGenerator,addJobOption:e.handleAddJobOptionOfJobInputsFormGenerator}})],1):n("div",[e._v("Loading Please wait...")])])],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.handleClickCloseFormButton}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.handleClickSaveFormButton}},[e._v("Save")])],1)],1)},S=[],V=(n("a4d3"),n("4de4"),n("b0c0"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("ade3")),R=n("a523"),T=n("0fd9"),D=n("0e8f"),$=n("2b5d"),M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",[n("v-combobox",{attrs:{items:e.getOptionalOptions(e.options),"item-text":"name",label:"Select additional options",multiple:"",outlined:"",dense:"",chips:"","small-chips":!0},on:{input:e.handleComboboxOptionsInput},model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}})],1),e._l(e.rowsJobs,(function(t,r){return n("v-row",{key:r},e._l(t,(function(t){return n("v-col",{key:t.key,attrs:{cols:"12",sm:12/e.defaultNumberColumnsPerRow,md:12/e.defaultNumberColumnsPerRow}},[n("v-text-field",{attrs:{value:t.value,label:t.name},on:{change:function(n){return e.handleFormInputChange(n,t.key)}},scopedSlots:e._u([t.is_optional?{key:"prepend",fn:function(){return[n("v-icon",{staticClass:"mr-2",attrs:{size:"25px"},on:{click:function(n){return e.handleDeleteOptionIconClick(t.key)}}},[e._v(" close ")])]},proxy:!0}:null],null,!0)})],1)})),1)}))],2)},B=[],A=(n("7db0"),n("caad"),n("a9e3"),n("2532"),n("62ad")),L={name:"CreateEditJobForm",components:{VContainer:R["a"],VRow:T["a"],VCol:A["a"],VIcon:m["a"],VTextField:C["a"],VCombobox:$["a"]},props:{options:{type:Array,default:function(){return[]}},jobOptions:{type:Object,default:function(){return{}}},defaultNumberColumnsPerRow:{type:Number,default:2,validator:function(e){return e<=4&&e>0}}},watch:{jobOptions:function(e){this.selectedOptions=this.getOptionsFromJobOptions(this.getOptionalOptions(this.options),e)}},data:function(){return{numberColumnsPerRow:this.defaultNumberColumnsPerRow,selectedOptions:[]}},computed:{rowsJobs:function(){var e=this,t=JSON.parse(JSON.stringify(this.jobOptions)),n=0,r=0,o=[];return o[n]=[],Object.keys(t).forEach((function(a){r>=e.defaultNumberColumnsPerRow&&(r=0,n+=1,o[n]=[]);var i=e.options.find((function(e){return e.key===a}));o[n].push({key:a,value:t[a],name:i?i.name:"",is_optional:i?i.is_optional:null}),r+=1})),o}},created:function(){this.selectedOptions=this.getOptionsFromJobOptions(this.getOptionalOptions(this.options),this.jobOptions)},methods:{getOptionsFromJobOptions:function(e,t){return e.filter((function(e){return Object.keys(t).find((function(t){return t===e.key}))}))},getOptionalOptions:function(e){return e.filter((function(e){return e.is_optional}))},getJobOptionsKeys:function(){return Object.keys(this.jobOptions)},handleDeleteOptionIconClick:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("Are you sure that you want to delete this option?");case 2:n=e.sent,n&&this.$emit("deleteJobOption",t);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),handleComboboxOptionsInput:function(e){var t=this;e.forEach((function(e){t.getJobOptionsKeys().includes(e.key)||t.$emit("addJobOption",e.key)}));var n=this.getOptionalOptions(this.options);this.getJobOptionsKeys().forEach((function(r){!e.filter((function(e){return e.key===r})).length&&n.filter((function(e){return e.key===r})).length&&t.$emit("deleteJobOption",r)}))},handleFormInputChange:function(e,t){var n={};n[t]=e,this.$emit("updateJobOption",n)}}},G=L,U=n("2877"),K=Object(U["a"])(G,M,B,!1,null,null,null),Q=K.exports;function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){Object(V["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q={name:"CreateEditJobForm",components:{VCard:v["a"],VCardTitle:P["e"],VCardText:P["d"],VContainer:R["a"],VRow:T["a"],VTextField:C["a"],VCardActions:P["b"],VSpacer:b["a"],VBtn:h["a"],VFlex:D["a"],VCombobox:$["a"],JobInputsFormGenerator:Q},props:{title:{type:String,default:"Create new job"},job:{type:Object,default:function(){return{id:0,name:""}}},defaultJobOptions:{type:Object,default:function(){return{}}}},computed:W({},Object(F["b"])(["getNoneOptionalOptions","getProfileById","getDefaultProfile"]),{},Object(F["c"])(["options","profiles","profileJobOptions"])),data:function(){return{jobName:this.job.name,jobOptions:this.defaultJobOptions,selectedProfile:null}},created:function(){var e=this;this.$store.dispatch("loadOptions").then((function(){e.job.id||e.$store.dispatch("loadProfiles").then((function(){e.setDefaultJobOptions(e.getNoneOptionalOptions),e.setJobOptionsFromDefaultProfile()}))}))},methods:{setJobOptionsFromDefaultProfile:function(){var e=this.getDefaultProfile;e&&(this.selectedProfile=e,this.setJobOptionsFromProfile(e.id))},addJobOption:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.$set(e,t,n)},setDefaultJobOptions:function(e){var t=this;e.forEach((function(e){t.addJobOption(t.jobOptions,e.key)}))},setJobOptionsFromProfile:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch("fetchProfileJobOptions",t);case 3:this.profileJobOptions&&(this.jobOptions=Object.assign({},this.jobOptions,this.profileJobOptions)),e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](0);case 8:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(t){return e.apply(this,arguments)}return t}(),handleClickCloseFormButton:function(){this.$emit("close")},handleClickSaveFormButton:function(){this.$emit("save",this.jobOptions,this.jobName,this.job.id)},handleChangeProfileComboboxValue:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=6;break}return e.next=4,this.setJobOptionsFromProfile(t.id);case 4:e.next=9;break;case 6:return e.next=8,this.$store.dispatch("loadOptions");case 8:this.setDefaultJobOptions(this.getNoneOptionalOptions);case 9:e.next=13;break;case 11:e.prev=11,e.t0=e["catch"](0);case 13:case"end":return e.stop()}}),e,this,[[0,11]])})));function t(t){return e.apply(this,arguments)}return t}(),handleUpdateJobOptionOfJobInputsFormGenerator:function(e){Object.assign(this.jobOptions,e)},handleDeleteJobOptionOfJobInputsFormGenerator:function(e){r["a"].delete(this.jobOptions,e)},handleAddJobOptionOfJobInputsFormGenerator:function(e){this.addJobOption(this.jobOptions,e)}}},H=q,X=(n("a8d9"),Object(U["a"])(H,N,S,!1,null,null,null)),Y=X.exports,Z={name:"JobComponent",components:{CreateEditJobForm:Y,VCard:v["a"],VCardTitle:P["e"],VTextField:C["a"],VDataTable:E["a"],VCardText:P["d"],VIcon:m["a"],VToolbar:d["a"],VToolbarTitle:f["c"],VDivider:I["a"],VSpacer:b["a"],VBtn:h["a"],VDialog:_["a"]},data:function(){return{isNewJobModalOpen:!1,isEditJobModalOpen:!1,search:"",headers:[{text:"Id",value:"id"},{text:"Name",value:"name"},{text:"Status",value:"status"},{text:"Last Update",value:"lastUpdate"},{text:"Actions",value:"action",sortable:!1}],currentJobOptions:null,currentJob:null,jobInterval:null}},created:function(){var e=this;this.$store.dispatch("loadJobs"),this.jobInterval=setInterval((function(){e.$store.dispatch("loadJobs")}),1e4)},computed:Object(F["c"])(["jobs","jobOptions"]),methods:{handleEditJobIconClick:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch("fetchJobOptions",t.id);case 3:this.currentJobOptions=this.jobOptions,this.currentJob=t,this.isEditJobModalOpen=!0,e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](0);case 10:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}(),handleDeleteJobButtonClick:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("Are you sure that you want to delete this job?");case 2:if(n=e.sent,!n){e.next=11;break}return e.prev=4,e.next=7,this.$store.dispatch("deleteJob",t.id);case 7:e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](4);case 11:case"end":return e.stop()}}),e,this,[[4,9]])})));function t(t){return e.apply(this,arguments)}return t}(),handleAddNewJobClick:function(){this.isNewJobModalOpen=!0},handleCloseAddJobForm:function(){this.isNewJobModalOpen=!1},handleNewJobFormSave:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch("addJob",{Options:t,Name:n});case 3:this.isNewJobModalOpen=!1,e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](0);case 8:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(t,n){return e.apply(this,arguments)}return t}(),handleEditJobFormClose:function(){this.isEditJobModalOpen=!1},handleEditJobFormSave:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch("editJob",{id:r,data:{Options:t,Name:n}});case 3:this.isEditJobModalOpen=!1,e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](0);case 8:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(t,n,r){return e.apply(this,arguments)}return t}()}},ee=Z,te=Object(U["a"])(ee,J,y,!1,null,null,null),ne=te.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{flat:""}},[n("v-card-title",[n("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),n("v-card-text",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.profiles,search:e.search,"items-per-page":5,"sort-by":"name"},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-toolbar-title",[e._v("Profiles")]),n("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),n("v-spacer"),n("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:e.handleClickNewProfileButton}},[e._v(" New Profile ")]),e.isNewProfileModalOpen?n("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.isNewProfileModalOpen,callback:function(t){e.isNewProfileModalOpen=t},expression:"isNewProfileModalOpen"}},[n("CreateEditProfileForm",{on:{close:e.handleAddProfileFormClose,save:e.handleNewProfileFormSave}})],1):e._e(),e.isEditProfileModalOpen?n("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.isEditProfileModalOpen,callback:function(t){e.isEditProfileModalOpen=t},expression:"isEditProfileModalOpen"}},[n("CreateEditProfileForm",{attrs:{title:"Edit Profile","default-profile":e.currentProfileJobOptions},on:{close:e.handleEditProfileFormClose,save:e.handleEditProfileFormSave}})],1):e._e()],1)]},proxy:!0},{key:"item.default",fn:function(t){var r=t.item;return[n("v-checkbox",{key:r.id,attrs:{value:r.id,disabled:e.profileIdOfCheckedItems.length>0&&r.id!=e.profileIdOfCheckedItems[0]},on:{change:function(t){return e.handleDefaultProfileCheckBoxChange(r)}},model:{value:e.profileIdOfCheckedItems,callback:function(t){e.profileIdOfCheckedItems=t},expression:"profileIdOfCheckedItems"}})]}},{key:"item.action",fn:function(t){var r=t.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.handleEditProfileIconClick(r)}}},[e._v(" edit ")]),n("v-icon",{attrs:{small:""},on:{click:function(t){return e.handleClickDeleteProfileButton(r)}}},[e._v(" delete ")])]}}])})],1)],1)},oe=[],ae=n("ac7c"),ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v(e._s(e.title))])]),n("v-card-text",[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{label:"Name"},model:{value:e.profile.Name,callback:function(t){e.$set(e.profile,"Name",t)},expression:"profile.Name"}})],1)],1),n("div",{staticClass:"scroll-container"},[e.options?n("div",[n("JobInputsFormGenerator",{attrs:{options:e.options,"job-options":e.profile.Options,"default-number-columns-per-row":2},on:{updateJobOption:e.handleUpdateJobOptionOfJobInputsFormGenerator,deleteJobOption:e.handleDeleteJobOptionOfJobInputsFormGenerator,addJobOption:e.handleAddJobOptionOfJobInputsFormGenerator}})],1):n("div",[e._v("Loading Please wait...")])])],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeForm}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.saveForm}},[e._v("Save")])],1)],1)},se=[];function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){Object(V["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue={name:"CreateEditProfileForm",components:{VCard:v["a"],VCardTitle:P["e"],VCardText:P["d"],VContainer:R["a"],VRow:T["a"],VCol:A["a"],VTextField:C["a"],VCardActions:P["b"],VSpacer:b["a"],VBtn:h["a"],JobInputsFormGenerator:Q},props:{title:{type:String,default:"Create new profile"},defaultProfile:{type:Object,default:function(){return{Name:"",Id:0,Options:{type:Object,default:function(){return{}}}}}}},computed:le({},Object(F["b"])(["getNoneOptionalOptions"]),{},Object(F["c"])(["options"])),data:function(){return{profile:this.defaultProfile}},created:function(){var e=this;this.$store.dispatch("loadOptions").then((function(){e.options.forEach((function(e){e.is_optional=!0}))}))},methods:{closeForm:function(){this.$emit("close")},saveForm:function(){this.$emit("save",this.profile)},handleUpdateJobOptionOfJobInputsFormGenerator:function(e){Object.assign(this.profile.Options,e)},handleDeleteJobOptionOfJobInputsFormGenerator:function(e){r["a"].delete(this.profile.Options,e)},handleAddJobOptionOfJobInputsFormGenerator:function(e){this.$set(this.profile.Options,e,"")}}},pe=ue,de=Object(U["a"])(pe,ie,se,!1,null,null,null),fe=de.exports;function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){Object(V["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var me={name:"ProfileComponent",components:{VCard:v["a"],VCardTitle:P["e"],VTextField:C["a"],VDataTable:E["a"],VCardText:P["d"],VIcon:m["a"],VToolbar:d["a"],VToolbarTitle:f["c"],VDivider:I["a"],VDialog:_["a"],VSpacer:b["a"],VBtn:h["a"],VCheckbox:ae["a"],CreateEditProfileForm:fe},computed:he({},Object(F["c"])(["profiles","profileJobOptions"]),{},Object(F["b"])(["getDefaultProfile"])),data:function(){return{isNewProfileModalOpen:!1,isEditProfileModalOpen:!1,search:"",headers:[{text:"Name",value:"name"},{text:"Default",value:"default"},{text:"Actions",value:"action",sortable:!1}],profileIdOfCheckedItems:[],currentProfileJobOptions:null,profileInterval:null}},created:function(){var e=this;this.$store.dispatch("loadProfiles").then((function(){var t=e.getDefaultProfile;"undefined"!==t&&t&&(e.profileIdOfCheckedItems=[t.id])})),this.jobInterval=setInterval((function(){e.$store.dispatch("loadProfiles")}),1e4)},methods:{handleEditProfileIconClick:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch("fetchProfileJobOptions",t.id);case 3:this.currentProfileJobOptions={Name:t.name,Id:t.id,Options:this.profileJobOptions},this.isEditProfileModalOpen=!0,e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}(),handleClickDeleteProfileButton:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("Are you sure that you want to delete this profile?");case 2:if(n=e.sent,!n){e.next=11;break}return e.prev=4,e.next=7,this.$store.dispatch("deleteProfile",t.id);case 7:e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](4);case 11:case"end":return e.stop()}}),e,this,[[4,9]])})));function t(t){return e.apply(this,arguments)}return t}(),handleClickNewProfileButton:function(){this.isNewProfileModalOpen=!0},handleAddProfileFormClose:function(){this.isNewProfileModalOpen=!1},handleEditProfileFormClose:function(){this.isEditProfileModalOpen=!1},handleEditProfileFormSave:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch("editProfile",{Id:t.Id,Name:t.Name,Options:t.Options});case 3:this.isEditProfileModalOpen=!1,e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](0);case 8:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(t){return e.apply(this,arguments)}return t}(),handleNewProfileFormSave:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch("addProfile",{Options:t.Options,Name:t.Name});case 3:this.isNewProfileModalOpen=!1,e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](0);case 8:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(t){return e.apply(this,arguments)}return t}(),handleDefaultProfileCheckBoxChange:function(){this.$store.dispatch("setDefaultProfileId",this.profileIdOfCheckedItems[0])}}},ve=me,Oe=Object(U["a"])(ve,re,oe,!1,null,null,null),we=Oe.exports,xe={name:"Layout",components:{JobComponent:ne,VToolbar:d["a"],VToolbarTitle:f["c"],VSpacer:b["a"],VBtn:h["a"],VIcon:m["a"],VCard:v["a"],VAppBarNavIcon:O["a"],VTabs:w["a"],VTab:x["a"],VTabsItems:g["a"],VTabItem:k["a"],ProfileComponent:we},data:function(){return{currentTab:0,tabItems:[{index:0,name:"Job Queue"},{index:1,name:"Profiles"}]}},methods:{}},ge=xe,ke=Object(U["a"])(ge,u,p,!1,null,null,null),Je=ke.exports,ye={name:"app",components:{Layout:Je,VApp:l["a"]}},je=ye,Pe=Object(U["a"])(je,s,c,!1,null,null,null),Ce=Pe.exports,Ee=(n("99af"),n("c740"),n("a434"),n("e25e"),n("bc3a")),Ie=n.n(Ee),_e=n("aba3"),Fe=n("a7fe"),Ne=n.n(Fe),Se=_e.api.baseUrl,Ve="defaultProfileId";r["a"].use(F["a"]),r["a"].use(Ne.a,Ie.a);var Re=new F["a"].Store({state:{jobs:[],jobOptions:null,profiles:[],profileJobOptions:null,options:null},getters:{getProfileById:function(e){return function(t){return e.profiles.find((function(e){return e.id===t}))}},getDefaultProfile:function(e,t){return t.getProfileById(parseInt(window.localStorage.getItem(Ve),10))},getOptionalOptions:function(e){return e.options.filter((function(e){return e.is_optional}))},getNoneOptionalOptions:function(e){return e.options.filter((function(e){return!e.is_optional}))}},mutations:{SET_JOBS:function(e,t){e.jobs=t},SET_JOB_OPTIONS:function(e,t){e.jobOptions=t},DELETE_JOB:function(e,t){var n=e.jobs.findIndex((function(e){return e.id===t}));e.jobs.splice(n,1)},SET_PROFILES:function(e,t){e.profiles=t},DELETE_PROFILE:function(e,t){var n=e.profiles.findIndex((function(e){return e.id===t}));e.profiles.splice(n,1)},SET_PROFILE_JOB_OPTIONS:function(e,t){e.profileJobOptions=t},SET_OPTIONS:function(e,t){e.options=t},SET_DEFAULT_PROFILE_ID:function(e,t){window.localStorage.setItem(Ve,t)}},actions:{loadJobs:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ie.a.get("".concat(Se,"/api/getJobs"));case 3:if(t=e.sent,!t){e.next=8;break}this.commit("SET_JOBS",t.data),e.next=9;break;case 8:throw new Error("Resoponse is empty");case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e["catch"](0),new Error("Can not fetch jobs list");case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));function t(){return e.apply(this,arguments)}return t}(),fetchJobOptions:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,Ie.a.get("".concat(Se,"/api/getOptions/").concat(n));case 4:if(o=e.sent,!o){e.next=9;break}r("SET_JOB_OPTIONS",o.data),e.next=10;break;case 9:throw new Error("Resoponse is empty");case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e["catch"](1),new Error("Can not fetch job options");case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));function t(t,n){return e.apply(this,arguments)}return t}(),deleteJob:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,Ie.a.delete("".concat(Se,"/api/job/").concat(n));case 4:r("DELETE_JOB",n),e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](1),new Error("Can not delete job ".concat(n));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));function t(t,n){return e.apply(this,arguments)}return t}(),editJob:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.dispatch,e.prev=1,e.next=4,Ie.a.post("".concat(Se,"/api/updateJob/").concat(n.id),n.data);case 4:r("loadJobs"),e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](1),new Error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));function t(t,n){return e.apply(this,arguments)}return t}(),addJob:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.dispatch,e.prev=1,e.next=4,Ie.a.post("".concat(Se,"/api/job"),n);case 4:r("loadJobs"),e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](1),new Error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));function t(t,n){return e.apply(this,arguments)}return t}(),loadProfiles:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ie.a.get("".concat(Se,"/api/getProfiles"));case 3:if(t=e.sent,!t){e.next=8;break}this.commit("SET_PROFILES",t.data),e.next=9;break;case 8:throw new Error("Resoponse is empty");case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e["catch"](0),new Error("Can not fetch profiles list");case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));function t(){return e.apply(this,arguments)}return t}(),deleteProfile:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,Ie.a.delete("".concat(Se,"/api/profile/").concat(n));case 4:r("DELETE_PROFILE",n),e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](1),new Error("Can not delete profile ".concat(n));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));function t(t,n){return e.apply(this,arguments)}return t}(),addProfile:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.dispatch,e.prev=1,e.next=4,Ie.a.post("".concat(Se,"/api/profile/").concat(n.Name),n.Options);case 4:r("loadProfiles"),e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](1),new Error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));function t(t,n){return e.apply(this,arguments)}return t}(),fetchProfileJobOptions:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,Ie.a.get("".concat(Se,"/api/getProfileOptions/").concat(n));case 4:if(o=e.sent,!o){e.next=9;break}r("SET_PROFILE_JOB_OPTIONS",o.data),e.next=10;break;case 9:throw new Error("Resoponse is empty");case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e["catch"](1),new Error("Can not fetch job options");case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));function t(t,n){return e.apply(this,arguments)}return t}(),editProfile:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.dispatch,e.prev=1,e.next=4,Ie.a.post("".concat(Se,"/api/updateProfile"),n);case 4:r("loadProfiles"),e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](1),new Error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));function t(t,n){return e.apply(this,arguments)}return t}(),loadOptions:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ie.a.get("".concat(Se,"/api/getOptions"));case 3:if(t=e.sent,!t){e.next=8;break}this.commit("SET_OPTIONS",t.data),e.next=9;break;case 8:throw new Error("Resoponse is empty");case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e["catch"](0),new Error("Can not fetch options list");case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));function t(){return e.apply(this,arguments)}return t}(),setDefaultProfileId:function(e,t){var n=e.commit;n("SET_DEFAULT_PROFILE_ID",t)}}}),Te=new i["a"];r["a"].use(a.a,{vuetify:Te,color:"warning",title:"Warning",width:350,property:"$confirm"}),r["a"].use(i["a"]),r["a"].config.productionTip=!1,r["a"].mixin({methods:{range:function(e,t){return new Array(t-e+1).fill(void 0).map((function(t,n){return n+e}))}}}),new r["a"]({store:Re,render:function(e){return e(Ce)},vuetify:new i["a"]}).$mount("#app")},a8d9:function(e,t,n){"use strict";var r=n("5095"),o=n.n(r);o.a},aba3:function(e){e.exports=JSON.parse('{"api":{"baseUrl":"http://127.0.0.1:5000"}}')}});
//# sourceMappingURL=app.e7d0c58a.js.map